<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>each()를 활용하여 tab 메뉴를 작성해 봅니다.</title>

<style type="text/css">
	body {
      font-family: Arial;
   }

   div#container {
      width: 50%;
      margin: 0 auto;
      padding: 20px;
   }
   
   div#tab {
    /*   border: solid 1px red; */
      
      border: solid 1px #ccc;
      background-color: #f1f1f1; 
      overflow: hidden;
   }
   
   div#tab > button {
      width: 100px;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px; 
      font-size: 17px;
      float: left; /* 버튼과 버튼사이의 여백없이 계속해서 붙여가면서 하려고 하는 것임 */
   }
   
	div.content {
		display: none;
		border: solid 1px #ccc;
		padding: 6px 12px;
		border-top: none;
	}
	
	.active {
		background-color: navy;
		color: white;
	}
	
</style>

<script type="text/javascript" src="../../js/jquery-3.6.0.min.js"></script>
<script type="text/javascript">

	$(document).ready(function(){
		
		const arr_data = [{subject:"런던",
						   content:"런던 (영어: London)은 잉글랜드와 영국의 수도이다."}
						 ,{subject:"파리",
						   content:"파리(Paris)는 프랑스의 수도이다."}
						 ,{subject:"앙카라",
						   content:"터키의 수도이다."}						 
						 ];
			
			let html = `<p>탭 메뉴를 선택해 보세요</p>
						<div id="tab">`;
			
			arr_data.forEach((item, index) => {
			 html += `<button class='tablinks'>${item.subject}</button>`;
			});
			
			html += `</div>`;
			
			arr_data.forEach((item)=>{
				html += `<div class="content">
							<h3>${item.subject}</h3>
							<p>${item.content}</p>
						</div>`;
			});
			
			$("div#container").html(html);
		
		// >>> === 클릭한 탭(버튼)만 보이도록 하는 두번째 방법 === <<<
		$("button.tablinks").click((event)=>{
			
			const $target = $(event.target);
			const i = $("button.tablinks").index($target);			
		//	console.log("확인용 i : " + i);	// 확인용 i: 0  확인용 i: 1  확인용 i: 2
		
		/*
			$("div.content").each(function(index, item){});	// jQuery 에서 사용되는 반복문 each	
		//	또는
			$("div.content").each((index, item)=>{});
		*/
			/*
			   each 에서 첫번째 파라미터인 index 는 복수개의 선택자에 반복하면서 부여되어지는 index 번호이다.
			   each 에서 두번째 파라미터인 item 은 해당 엘리먼트를 가리키는 것이다.
			*/
			
			$("div.content").each((index, item)=>{
				
				if(i == index) {
					$(item).css('display','block');	
				}
				else {
				//	$(item).css('display','none');
					// 또는
					$(item).css('display','');	// ''은 CSS에서 $(item)에 적용된 값(즉, 'none')을 따라간다는 말이다.
				}
								
			});
			
			$("button.tablinks").each((index, item)=>{
				if(i == index) {
					$(item).addClass("active");	
				}
				else {
					$(item).removeClass("active");
				}
			});
		
		}); // end of $("button.tablinks").click()---------------------------------------------------------
		
		$("button.tablinks").eq(0).trigger("click");
	});
</script>
</head>
<body>
	<div id="container">
      
      
      
      
   </div>
</body>
</html>